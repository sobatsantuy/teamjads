<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jadwal Piket</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-5">
        <div class="card">
            <div class="card-header">
                Jadwal Piket Hari Ini - <span id="namaHariIni"></span>
            </div>
            <div class="card-body">
                <div id="jadwalHariIni">
                    <!-- Jadwal hari ini akan ditampilkan di sini menggunakan JavaScript -->
                </div>
            </div>
        </div>

        <div class="mt-3">
            <div class="card">
                <div class="card-header">
                    Jadwal Piket Hari Besok - <span id="namaHariBesok"></span>
                </div>
                <div class="card-body">
                    <div id="jadwalHariBesok">
                        <!-- Jadwal hari besok akan ditampilkan di sini menggunakan JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data jadwal
        const jadwal = [
            { team: "Team 1", anggota: ["Nauli", "Tri", "Siti", "Andre"] },
            { team: "Team 2", anggota: ["Catur", "Ega", "Ridho", "Tyas"] },
            { team: "Team 3", anggota: ["Munada", "Ismail", "Anton"] }
        ];

        // Fungsi untuk menampilkan nama hari
        function getNamaHari(tanggal) {
            const namaHari = ["Minggu", "Senin", "Selasa", "Rabu", "Kamis", "Jumat", "Sabtu"];
            return namaHari[tanggal.getDay()];
        }

        // Fungsi untuk menampilkan jadwal berdasarkan urutan tim
        function tampilkanJadwal() {
            const today = new Date();
            const hariIni = today.getDay(); // Mendapatkan hari ini (0 = Minggu, 1 = Senin, dst.)

            // Menghitung indeks tim berdasarkan urutan setiap tiga hari
            const timIndexHariIni = Math.floor(hariIni / 3) % jadwal.length;
            const jadwalHariIni = jadwal[timIndexHariIni];

            // Menghitung indeks tim untuk hari besok
            const timIndexHariBesok = (timIndexHariIni + 1) % jadwal.length;
            const jadwalHariBesok = jadwal[timIndexHariBesok];
            function tampilkanJadwalHariLusa() {
    //lusa
                const today = new Date();
    const hariLusa = new Date(today.getTime() + 2 * 86400000); // Menghitung tanggal hari lusa

    const timIndexHariLusa = (Math.floor(hariLusa.getDay() / 3) + 1) % jadwal.length;
    const jadwalHariLusa = jadwal[timIndexHariLusa];

            // Menampilkan nama hari pada card header
            document.getElementById("namaHariIni").textContent = getNamaHari(today);
            document.getElementById("namaHariBesok").textContent = getNamaHari(new Date(today.getTime() + 86400000)); // Menambahkan 1 hari dalam milisekon
            document.getElementById("namaHariLusa").textContent = getNamaHari(hariLusa);
            // Manmpilkan jadwal hari ini
            const jadwalHTMLHariIni = `
                <h5>Team: ${jadwalHariIni.team}</h5>
                <p>Nama Anggota: ${jadwalHariIni.anggota.join(", ")}</p>
                <p>Tanggal: ${today.toLocaleDateString()}</p>
                <p>Kegiatan: Bersih posko lt1-lt2, halaman, dan memasak</p>
                <p>Jam:
                    Pagi 06.00 - 07.00<br>
                    Siang 12.00 - 13.00<br>
                    Malam 19.00 - 20.00
                </p>
                <p>NB:*Jam Pagi Tetap diwajibkan <br>
                *untuk Jam siang / malam sewaktu-waktu bisa berubah tergantung acara atau kegiatan</p>
            `;

            document.getElementById("jadwalHariIni").innerHTML = jadwalHTMLHariIni;

            // Menampilkan jadwal hari besok
            const jadwalHTMLHariBesok = `
                <h5>Team: ${jadwalHariBesok.team}</h5>
                <p>Nama Anggota: ${jadwalHariBesok.anggota.join(", ")}</p>
                <p>Tanggal: ${new Date(today.getTime() + 86400000).toLocaleDateString()}</p>
                <p>Kegiatan: Bersih posko lt1-lt2, halaman, dan memasak</p>
                <p>Jam:
                    Pagi 06.00 - 07.00<br>
                    Siang 12.00 - 13.00<br>
                    Malam 19.00 - 20.00
                </p>
                <p>NB:*Jam Pagi Tetap diwajibkan <br>
                *untuk Jam siang / malam sewaktu-waktu bisa berubah tergantung acara atau kegiatan</p>
            `;

            document.getElementById("jadwalHariBesok").innerHTML = jadwalHTMLHariBesok;
        }
// Menampilkan jadwal hari lusa
    const jadwalHTMLHariLusa = `
        <h5>Team: ${jadwalHariLusa.team}</h5>
        <p>Nama Anggota: ${jadwalHariLusa.anggota.join(", ")}</p>
        <p>Tanggal: ${hariLusa.toLocaleDateString()}</p>
        <p>Kegiatan: Bersih posko lt1-lt2, halaman, dan memasak</p>
        <p>Jam:
            Pagi 06.00 - 07.00<br>
            Siang 12.00 - 13.00<br>
            Malam 19.00 - 20.00
        </p>
        <p>NB:*Jam Pagi Tetap diwajibkan <br>
        *untuk Jam siang / malam sewaktu-waktu bisa berubah tergantung acara atau kegiatan</p>
    `;

    document.getElementById("jadwalHariLusa").innerHTML = jadwalHTMLHariLusa;
}

        // Memanggil fungsi untuk menampilkan jadwal saat halaman dimuat
tampilkanJadwal();
tampilkanJadwalHariLusa();

// Mengatur urutan tim berdasarkan hari Rabu sebagai awal
if (today.getDay() === 3) { // Hari Rabu (0 = Minggu, 1 = Senin, ..., 6 = Sabtu)
    rotateTim();
}

// Fungsi untuk mengganti urutan tim
function rotateTim() {
    const timIndexHariIni = Math.floor(today.getDay() / 3) % jadwal.length;
    const timIndexHariBesok = (timIndexHariIni + 1) % jadwal.length;
    jadwal.push(jadwal.shift()); // Mengganti urutan tim
}
        
    </script>
</body>
</html>
